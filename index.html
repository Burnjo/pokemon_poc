<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>포켓몬 이름 변환</title>
</head>
<body>
  <h1>포켓몬 한글 이름 → 영어 이름 변환</h1>
  <p>포켓몬 한글 이름을 입력하세요:</p>
  <input type="text" id="pokemonName" placeholder="예: 이상해씨">
  <button id="searchButton">변환</button>
  <div id="result"></div>

  <script>
    // CSV 파일의 raw URL을 입력하세요.
    const csvUrl = 'https://raw.githubusercontent.com/yourusername/yourrepo/main/pokemon_mapping.csv';

    let mapping = {};

    // CSV 파일을 불러와서 매핑 데이터를 생성하는 함수
    function loadCSVMapping() {
      fetch(csvUrl)
        .then(response => response.text())
        .then(data => {
          const lines = data.trim().split('\n');
          // 첫 줄은 헤더이므로 제거
          lines.shift();
          lines.forEach(line => {
            if(line.trim()){
              const [korean, english] = line.split(',');
              if (korean && english) {
                mapping[korean.trim()] = english.trim();
              }
            }
          });
          console.log('매핑 데이터 로드 완료:', mapping);
        })
        .catch(error => {
          console.error('CSV 로드 오류:', error);
        });
    }

    // 페이지 로드 시 CSV 매핑 데이터 불러오기
    loadCSVMapping();

    // 버튼 클릭 시 사용자가 입력한 한글 이름에 대응하는 영어 이름 출력
    document.getElementById("searchButton").addEventListener("click", function() {
      const inputName = document.getElementById("pokemonName").value.trim();
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "";
      if (mapping[inputName]) {
        resultDiv.textContent = `영어 이름: ${mapping[inputName]}`;
      } else {
        resultDiv.textContent = "해당 포켓몬 이름을 찾을 수 없습니다.";
      }
    });
  </script>
</body>
</html>
